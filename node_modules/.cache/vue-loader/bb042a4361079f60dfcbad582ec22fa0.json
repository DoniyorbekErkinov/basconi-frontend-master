{"remainingRequest":"P:\\noenter\\basconi-frontend-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!P:\\noenter\\basconi-frontend-master\\src\\modules\\management\\roles\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"P:\\noenter\\basconi-frontend-master\\src\\modules\\management\\roles\\index.vue","mtime":1695884236902},{"path":"P:\\noenter\\basconi-frontend-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695882313197},{"path":"P:\\noenter\\basconi-frontend-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1695882545643}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBSb2xlc1NlcnZpY2UgZnJvbSAiLi9yb2xlLnNlcnZpY2UiOwppbXBvcnQgQ29uZmlybU1vZGFsIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvY29uZmlybU1vZGFsIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaW5kZXgiLAogIGNvbXBvbmVudHM6IHtDb25maXJtTW9kYWx9LAogIGNvbXB1dGVkOiB7CiAgICBpc0NoZWNrZWQoKSB7CiAgICAgIHJldHVybiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHdpbmRvd1dpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwKICAgICAgc2VhcmNoOiAnJywKICAgICAgY3JlYXRlTW9kYWw6IGZhbHNlLAogICAgICBwZXJtaXNzaW9uTW9kYWw6IGZhbHNlLAogICAgICBlZGl0aW5nSXRlbToge30sCiAgICAgIHBlcm1pc3Npb25zOiBbeyBpZDogMSwgbmFtZTogJ2FkZCB1c2VyJ31dLAogICAgICBwZXJtaXNzaW9uSWRzOiBbXSwKICAgICAgcm9sZXM6IFt7IGlkOiAxLCBuYW1lOiAnYWRtaW4nLCBjb2RlOiAnYWRtaW4nIH0sCiAgICAgIHtpZDogMiwgbmFtZTogJ2FkbWluJywgY29kZTogJ2FkbWluJ31dLAogICAgICByb2xlSWQ6ICcnLAogICAgICBmb3JtOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgY29kZTogbnVsbCwKICAgICAgICBuYW1lOiBudWxsCiAgICAgIH0sCiAgICAgIGNyZWF0ZTogdHJ1ZSwKICAgICAgZGVsZXRlTW9kYWw6IGZhbHNlLAogICAgICBjb2x1bW5zOiBbCiAgICAgICAge25hbWU6ICdpZCcsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2RvYy5pbmRleCcpLCBmaWVsZDogJ2lkJ30sCiAgICAgICAge25hbWU6ICduYW1lJywgYWxpZ246ICdsZWZ0JywgbGFiZWw6IHRoaXMuJHQoJ2RvYy5uYW1lJyksIGZpZWxkOiAnbmFtZSd9LAogICAgICAgIHtuYW1lOiAnY29kZScsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2RvYy5jb2RlJyksIGZpZWxkOiAnY29kZSd9LAogICAgICAgIHtuYW1lOiAnYWN0aW9uJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnZG9jLmFjdGlvbicpLCBmaWVsZDogJ2FjdGlvbid9CiAgICAgIF0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldFJvbGVMaXN0KCkgewogICAgICBhd2FpdCBSb2xlc1NlcnZpY2UuZ2V0Um9sZUxpc3QoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5yb2xlcyA9IHJlcy5kYXRhCiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICB0eXBlOidjb25maXJtJywKICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGVkaXRGb3JtKGl0ZW0pIHsKICAgICAgdGhpcy5jcmVhdGUgPSBmYWxzZQogICAgICB0aGlzLmZvcm0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQogICAgICB0aGlzLmNyZWF0ZU1vZGFsID0gdHJ1ZQogICAgfSwKICAgIGNyZWF0ZUZvcm0oKSB7CiAgICAgIHRoaXMuY3JlYXRlID0gdHJ1ZQogICAgICB0aGlzLmZvcm0gPSB7fQogICAgICB0aGlzLmNyZWF0ZU1vZGFsID0gdHJ1ZQogICAgfSwKICAgIHNhdmUoKSB7CiAgICAgIGlmICh0aGlzLmNyZWF0ZSkgewogICAgICAgIGlmICh0aGlzLmZvcm0ubmFtZSAmJiB0aGlzLmZvcm0uY29kZSkgewogICAgICAgICAgUm9sZXNTZXJ2aWNlLmNyZWF0ZVJvbGUodGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlTW9kYWwgPSBmYWxzZQogICAgICAgICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdzdWNjZXNzX2NyZWF0ZWQnKSwKICAgICAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgICAgIGNvbG9yOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuZ2V0Um9sZUxpc3QoKTsKICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgICAgIHRpdGxlOiBlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdhdXRvJywKICAgICAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIXRoaXMuZm9ybS5uYW1lKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMucm9sZUZvcm1bMF0uY2xhc3NOYW1lICs9ICcgcmVxdWlyZWQnCiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIXRoaXMuZm9ybS5jb2RlKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMucm9sZUZvcm1bMV0uY2xhc3NOYW1lICs9ICcgcmVxdWlyZWQnCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmZvcm0ubmFtZSAmJiB0aGlzLmZvcm0uY29kZSkgewogICAgICAgICAgUm9sZXNTZXJ2aWNlLnVwZGF0ZVJvbGUodGhpcy5mb3JtLmlkLCB0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5jcmVhdGVNb2RhbCA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgdHlwZTonY29uZmlybScsCiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3N1Y2Nlc3NfdXBkYXRlZCcpLAogICAgICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICAgICAgY29sb3I6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5nZXRSb2xlTGlzdCgpOwogICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgdHlwZTonY29uZmlybScsCiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcGVybWlzc2lvbkZvcm0oaXRlbSkgewogICAgICB0aGlzLnJvbGVJZCA9IG51bGwKICAgICAgdGhpcy5wZXJtaXNzaW9uTW9kYWwgPSB0cnVlCiAgICAgIHRoaXMucGVybWlzc2lvbklkcyA9IFsxLDIsMyw0LDUsNl0KICAgICAgLy8gUm9sZXNTZXJ2aWNlLmdldFBlcm1pc3Npb25MaXN0KCkudGhlbihyZXMgPT4gewogICAgICAvLyAgIHRoaXMucm9sZUlkID0gaXRlbS5pZAogICAgICAvLyAgIHRoaXMucGVybWlzc2lvbnMgPSByZXMuZGF0YQogICAgICAvLyAgIHRoaXMucGVybWlzc2lvbklkcyA9IGl0ZW0ucGVybWlzc2lvbklkcwogICAgICAvLyAgIHRoaXMucGVybWlzc2lvbk1vZGFsID0gdHJ1ZQogICAgICAvLyB9KS5jYXRjaChlID0+IHsKICAgICAgLy8gICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAvLyAgICAgdHlwZTonY29uZmlybScsCiAgICAgIC8vICAgICBkdXJhdGlvbjogMTAwMCwKICAgICAgLy8gICAgIHRpdGxlOiBlLm1lc3NhZ2UsCiAgICAgIC8vICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAvLyAgICAgY29sb3I6ICdkYW5nZXInLAogICAgICAvLyAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgIC8vICAgfSkKICAgICAgLy8gfSkKICAgIH0sCiAgICBzYXZlUGVybWlzc2lvbnMoKSB7CiAgICAgIFJvbGVzU2VydmljZS51cGRhdGVSb2xlUGVybWlzc2lvbnNCeUlkKHRoaXMucm9sZUlkLCB0aGlzLnBlcm1pc3Npb25JZHMpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnBlcm1pc3Npb25Nb2RhbCA9IGZhbHNlCiAgICAgICAgdGhpcy5yb2xlSWQgPSBudWxsCiAgICAgICAgdGhpcy5wZXJtaXNzaW9uSWRzID0gW10KICAgICAgICB0aGlzLmdldFJvbGVMaXN0KCk7CiAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnc3VjY2Vzc191cGRhdGVkJyksCiAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgY29sb3I6ICdzdWNjZXNzJywKICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JwogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICB0eXBlOidjb25maXJtJywKICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGRlbGV0ZU1vZGFsVHJ1ZShpZCkgewogICAgICB0aGlzLnJvbGVJZCA9IG51bGwKICAgICAgdGhpcy5kZWxldGVNb2RhbCA9IHRydWUKICAgICAgdGhpcy5yb2xlSWQgPSBpZAogICAgfSwKICAgIGRlbGV0ZVJvbGUoKSB7CiAgICAgIFJvbGVzU2VydmljZS5kZWxldGVSb2xlKHRoaXMucm9sZUlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5kZWxldGVNb2RhbCA9IGZhbHNlCiAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnc3VjY2Vzc19kZWxldGVkJyksCiAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgY29sb3I6ICdzdWNjZXNzJywKICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JwogICAgICAgIH0pCiAgICAgICAgdGhpcy5nZXRSb2xlTGlzdCgpOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgICAgdHlwZTonY29uZmlybScsCiAgICAgICAgICBkdXJhdGlvbjogMTAwMCwKICAgICAgICAgIHRpdGxlOiBlLm1lc3NhZ2UsCiAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgY29sb3I6ICdkYW5nZXInLAogICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJvbGVMaXN0KCk7CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA0FA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/modules/management/roles","sourcesContent":["<template>\n  <div>\n    <q-table\n      class=\"shadow-10\"\n      bordered\n      :data=\"roles\"\n      row-key=\"id\"\n      row=\"row\"\n      virtual-scroll\n      :columns=\"columns\"\n      :hide-pagination=\"true\"\n      :rows-per-page-options=\"[0]\"\n    >\n      <template v-slot:top>\n        <div class=\"q-table__title\">{{ $t('management.roles') }}</div>\n        <q-space/>\n        <vs-button v-if=\"$can('create', 'role')\" success animation-type=\"rotate\" @click=\"createForm\">\n          <q-icon name=\"add\"/>\n          <template #animate>\n            <q-icon name=\"add\"/>\n          </template>\n        </vs-button>\n      </template>\n\n      <template v-slot:body-cell-code=\"props\">\n        <q-td class=\"text-center\">\n          <q-badge>{{ props.row.code }}</q-badge>\n        </q-td>\n      </template>\n      <template v-slot:body-cell-action=\"props\">\n        <q-td class=\"text-center\">\n          <vs-button style=\"display: inline-block\" flat icon primary @click=\"editForm(props.row)\">\n            <q-icon name=\"edit\"/>\n          </vs-button>\n          <vs-button style=\"display: inline-block\" flat icon success @click=\"permissionForm(props.row)\">\n            <q-icon name=\"security\"/>\n          </vs-button>\n          <vs-button style=\"display: inline-block\" flat icon danger @click=\"deleteModalTrue(props.row.id)\">\n            <q-icon name=\"delete\"/>\n          </vs-button>\n        </q-td>\n      </template>\n    </q-table>\n    <!--    Create / Edit   -->\n    <vs-dialog blur prevent-close v-model=\"createModal\">\n      <template #header>\n        <b v-if=\"create\">{{ $t('management.new_role') }}</b>\n        <b v-else>{{ $t('management.edit_role') }}</b>\n      </template>\n      <q-separator/>\n      <form ref=\"roleForm\">\n        <vs-input state=\"primary\" v-model=\"form.name\" class=\"mt-3\" :class=\"form.name == '' ? 'required' : ''\" :danger=\"form.name == ''\" block :label=\"$t('doc.name')\" :placeholder=\"$t('doc.name')\"></vs-input>     \n      </form>\n      <template #footer>\n        <vs-button class=\"mt-2\" @keyup.enter=\"save\" block primary gradient @click=\"save\">{{ $t('actions.save') }}</vs-button>\n      </template>\n    </vs-dialog>\n    <!--     Permissions     -->\n    <q-dialog maximized persistent transition-show=\"slide-up\" transition-hide=\"slide-down\" v-model=\"permissionModal\">\n      <q-card style=\"margin-top: 60px; padding-bottom: 60px\">\n        <q-toolbar class=\"bg-grey-8\">\n          <q-btn round push icon=\"close\" class=\"text-red-5\" v-close-popup @click=\"permissionIds = [], roleId = null\">\n            <q-tooltip class=\"bg-white text-primary\">Close</q-tooltip>\n          </q-btn>\n          <q-space/>\n          <vs-button success gradient @click=\"savePermissions\">{{ $t('actions.save') }}</vs-button>\n        </q-toolbar>\n        <q-card-section>\n          <q-card v-for=\"(perm, i) in permissions\" :key=\"`item-${i}`\">\n            <q-list bordered padding separator>\n              <q-item tag=\"label\" v-ripple>\n                <q-item-section>\n                  <q-item-label>{{ $t(`permissions.${perm.name}`) }}</q-item-label>\n                </q-item-section>\n                <q-item-section side top>\n                  <q-toggle v-model=\"permissionIds\" :val=\"perm.id\"/>\n                </q-item-section>\n              </q-item>\n            </q-list>\n          </q-card>\n        </q-card-section>\n      </q-card>\n    </q-dialog>\n\n    <!--     Delete     -->\n    <confirm-modal :model=\"deleteModal\" @submit=\"deleteRole\" @close=\"deleteModal = false\" :text=\"$t('confirm_delete')\"/>\n  </div>\n</template>\n\n<script>\nimport RolesService from \"./role.service\";\nimport ConfirmModal from \"../../../components/confirmModal\";\n\nexport default {\n  name: \"index\",\n  components: {ConfirmModal},\n  computed: {\n    isChecked() {\n      return false\n    }\n  },\n  data() {\n    return {\n      windowWidth: window.innerWidth,\n      search: '',\n      createModal: false,\n      permissionModal: false,\n      editingItem: {},\n      permissions: [{ id: 1, name: 'add user'}],\n      permissionIds: [],\n      roles: [{ id: 1, name: 'admin', code: 'admin' },\n      {id: 2, name: 'admin', code: 'admin'}],\n      roleId: '',\n      form: {\n        id: null,\n        code: null,\n        name: null\n      },\n      create: true,\n      deleteModal: false,\n      columns: [\n        {name: 'id', align: 'center', label: this.$t('doc.index'), field: 'id'},\n        {name: 'name', align: 'left', label: this.$t('doc.name'), field: 'name'},\n        {name: 'code', align: 'center', label: this.$t('doc.code'), field: 'code'},\n        {name: 'action', align: 'center', label: this.$t('doc.action'), field: 'action'}\n      ]\n    }\n  },\n  methods: {\n    async getRoleList() {\n      await RolesService.getRoleList().then(res => {\n        this.roles = res.data\n      }).catch(e => {\n        this.$vs.notification({\n          type:'confirm',\n          duration: 1000,\n          title: e.message,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n    },\n    editForm(item) {\n      this.create = false\n      this.form = Object.assign({}, item)\n      this.createModal = true\n    },\n    createForm() {\n      this.create = true\n      this.form = {}\n      this.createModal = true\n    },\n    save() {\n      if (this.create) {\n        if (this.form.name && this.form.code) {\n          RolesService.createRole(this.form).then(res => {\n            this.createModal = false\n            this.$vs.notification({\n              type:'confirm',\n              duration: 1000,\n              title: this.$t('success_created'),\n              progress: 'auto',\n              color: 'success',\n              position: 'top-right'\n            })\n            this.getRoleList();\n          }).catch(e => {\n            this.$vs.notification({\n              type:'confirm',\n              duration: 1000,\n              title: e.message,\n              progress: 'auto',\n              color: 'danger',\n              position: 'top-right'\n            })\n          })\n        } else {\n          if (!this.form.name) {\n            this.$refs.roleForm[0].className += ' required'\n          }\n          if (!this.form.code) {\n            this.$refs.roleForm[1].className += ' required'\n          }\n        }\n      } else {\n        if (this.form.name && this.form.code) {\n          RolesService.updateRole(this.form.id, this.form).then(res => {\n            this.createModal = false\n            this.$vs.notification({\n              type:'confirm',\n              duration: 1000,\n              title: this.$t('success_updated'),\n              progress: 'auto',\n              color: 'success',\n              position: 'top-right'\n            })\n            this.getRoleList();\n          }).catch(e => {\n            this.$vs.notification({\n              type:'confirm',\n              duration: 1000,\n              title: e.message,\n              progress: 'auto',\n              color: 'danger',\n              position: 'top-right'\n            })\n          })\n        }\n      }\n    },\n    permissionForm(item) {\n      this.roleId = null\n      this.permissionModal = true\n      this.permissionIds = [1,2,3,4,5,6]\n      // RolesService.getPermissionList().then(res => {\n      //   this.roleId = item.id\n      //   this.permissions = res.data\n      //   this.permissionIds = item.permissionIds\n      //   this.permissionModal = true\n      // }).catch(e => {\n      //   this.$vs.notification({\n      //     type:'confirm',\n      //     duration: 1000,\n      //     title: e.message,\n      //     progress: 'auto',\n      //     color: 'danger',\n      //     position: 'top-right'\n      //   })\n      // })\n    },\n    savePermissions() {\n      RolesService.updateRolePermissionsById(this.roleId, this.permissionIds).then(res => {\n        this.permissionModal = false\n        this.roleId = null\n        this.permissionIds = []\n        this.getRoleList();\n        this.$vs.notification({\n          type:'confirm',\n          duration: 1000,\n          title: this.$t('success_updated'),\n          progress: 'auto',\n          color: 'success',\n          position: 'top-right'\n        })\n      }).catch(e => {\n        this.$vs.notification({\n          type:'confirm',\n          duration: 1000,\n          title: e.message,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n    },\n    deleteModalTrue(id) {\n      this.roleId = null\n      this.deleteModal = true\n      this.roleId = id\n    },\n    deleteRole() {\n      RolesService.deleteRole(this.roleId).then(res => {\n        this.deleteModal = false\n        this.$vs.notification({\n          type:'confirm',\n          duration: 1000,\n          title: this.$t('success_deleted'),\n          progress: 'auto',\n          color: 'success',\n          position: 'top-right'\n        })\n        this.getRoleList();\n      }).catch(e => {\n        this.$vs.notification({\n          type:'confirm',\n          duration: 1000,\n          title: e.message,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n    }\n  },\n  created() {\n    this.getRoleList();\n  }\n}\n</script>\n\n<style scoped>\n.table {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  border-collapse: collapse;\n  width: 80%;\n  margin: 0 auto;\n  font-size: 18px;\n  text-align: center;\n}\n\n.table td,\n.table th {\n  border: 1px solid #ddd;\n  padding: 8px;\n}\n\ntable.table tbody tr.selected {\n  background-color: #f2f2f2;\n}\n\n.table tr:hover {\n  background-color: #ddd !important;\n}\n\n.table th {\n  padding-top: 12px;\n  padding-bottom: 12px;\n  text-align: left;\n  background-color: #4caf50;\n  color: white;\n}\n\n\n</style>\n"]}]}