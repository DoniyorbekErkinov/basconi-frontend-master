{"remainingRequest":"P:\\noenter\\basconi-frontend-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!P:\\noenter\\basconi-frontend-master\\src\\modules\\wms\\inventory\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"P:\\noenter\\basconi-frontend-master\\src\\modules\\wms\\inventory\\index.vue","mtime":1652787130000},{"path":"P:\\noenter\\basconi-frontend-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695882313197},{"path":"P:\\noenter\\basconi-frontend-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1695882545643}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBjb25maXJtTW9kYWwgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb25maXJtTW9kYWwudnVlJwppbXBvcnQgUHJvZHVjdFNlcnZpY2UgZnJvbSAiLi4vLi4vcmVmZXJlbmNlcy9wcm9kdWN0L3Byb2R1Y3Quc2VydmljZSIKaW1wb3J0IEludmVudG9yeVNlcnZpY2UgZnJvbSAiLi9pbnZlbnRvcnkuc2VydmljZSIKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpbmRleCIsCiAgY29tcG9uZW50czoge2NvbmZpcm1Nb2RhbH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHdpbmRvd1dpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwKICAgICAgcGF5bG9hZDogewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgbGltaXQ6IDUwCiAgICAgIH0sCiAgICAgIGludmVudG9yeURvY3M6IFtdLAogICAgICBkZXBhcnRtZW50TGlzdDogW10sCiAgICAgIHVzZXJMaXN0OiBbXSwKICAgICAgcHJvZHVjdExpc3Q6IFtdLAogICAgICBpdGVtSWQ6ICcnLAogICAgICBkZXBJZDogJycsCiAgICAgIHNlbGVjdGVkOiAnJywKICAgICAgc2VsZWN0ZWREZXA6IHt9LAogICAgICBkeW5hbWljUHJvZHVjdDoge30sCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7bmFtZTogJ2lkJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnZG9jLmluZGV4JyksIGZpZWxkOiAnaWQnfSwKICAgICAgICB7bmFtZTogJ3JlZ051bWJlcicsIGFsaWduOiAnbGVmdCcsIGxhYmVsOiB0aGlzLiR0KCdkb2MucmVnTnVtYmVyJyksIGZpZWxkOiAncmVnTnVtYmVyJ30sCiAgICAgICAge25hbWU6ICdyZWdEYXRlJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnZG9jLnJlZ0RhdGUnKSwgZmllbGQ6ICdyZWdEYXRlJ30sCiAgICAgICAge25hbWU6ICdkZXBhcnRtZW50TmFtZScsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2RvYy5kZXBhcnRtZW50JyksIGZpZWxkOiAnZGVwYXJ0bWVudE5hbWUnfSwKICAgICAgICB7bmFtZTogJ3VzZXJOYW1lJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnd21zLmludmVudG9yeS5yZXNwb25zaWJsZScpLCBmaWVsZDogJ3VzZXJOYW1lJ30sCiAgICAgICAge25hbWU6ICdzdGF0dXMnLCBhbGlnbjogJ2NlbnRlcicsIGxhYmVsOiB0aGlzLiR0KCdkb2Muc3RhdHVzJyksIGZpZWxkOiAnc3RhdHVzJ30sCiAgICAgICAge25hbWU6ICdhY3Rpb25zJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnZG9jLmFjdGlvbicpLCBmaWVsZDogJ2FjdGlvbnMnfQogICAgICBdLAogICAgICBkeW5hbWljUHJvZHVjdENvbHM6IFsKICAgICAgICB7bmFtZTogJ2lkJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnaXRlbXMuaW5kZXgnKSwgZmllbGQ6ICdpZCd9LAogICAgICAgIHtuYW1lOiAnY2t1JywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnaXRlbXMuc2t1JyksIGZpZWxkOiAnY2t1J30sCiAgICAgICAgLy8ge25hbWU6ICduYW1lJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnaXRlbXMubmFtZScpLCBmaWVsZDogJ25hbWUnfSwKICAgICAgICB7bmFtZTogJ3NpemUnLCBhbGlnbjogJ2NlbnRlcicsIGxhYmVsOiB0aGlzLiR0KCdpdGVtcy5zaXplJyksIGZpZWxkOiAnc2l6ZSd9LAogICAgICAgIHtuYW1lOiAnY291bnQnLCBhbGlnbjogJ2NlbnRlcicsIGxhYmVsOiB0aGlzLiR0KCdpdGVtcy5jb3VudCcpLCBmaWVsZDogJ2NvdW50J30sCiAgICAgICAge25hbWU6ICdhY3Rpb25zJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnaXRlbXMuYWN0aW9uJyksIGZpZWxkOiAnYWN0aW9ucyd9CiAgICAgIF0sCiAgICAgIGludmVudG9yeUZvcm1Gb3JNYW5hZ2VyOiB7fSwKICAgICAgaW52ZW50b3J5Rm9ybUZvclVzZXI6IHt9LAogICAgICBzZWFyY2g6ICcnLAogICAgICBjcmVhdGVFZGl0TW9kYWw6IGZhbHNlLAogICAgICBpbnZlbnRvcnlNb2RhbDogZmFsc2UsCiAgICAgIGNyZWF0ZTogdHJ1ZSwKICAgICAgZGVsZXRlTW9kYWw6IGZhbHNlLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0SW52ZW50b3J5RG9jcygpIHsKCiAgICB9LAogICAgZ2V0RGVwYXJ0bWVudHMoKSB7CiAgICAgIEludmVudG9yeVNlcnZpY2UuZ2V0RGVwYXJ0bWVudHMoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5kZXBJZD0gYCR7cmVzLmRhdGFbMF0uaWR9YAogICAgICAgIHRoaXMuZGVwYXJ0bWVudExpc3QgPSBbXQogICAgICAgIHRoaXMuZGVwYXJ0bWVudExpc3QgPSByZXMuZGF0YQogICAgICAgIHRoaXMuc2VsZWN0ZWQgPSByZXMuZGF0YVswXS5uYW1lCiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICB0eXBlOidjb25maXJtJywKICAgICAgICAgIHRpdGxlOiBlLm1lc3NhZ2UsCiAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgY29sb3I6ICdkYW5nZXInLAogICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBnZXRVc2Vyc0xpc3QoKSB7CiAgICAgIEludmVudG9yeVNlcnZpY2UuZ2V0VXNlcnNCeURlcElkKHRoaXMuZGVwSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmRlcElkID0gYCR7cmVzLmRhdGFbMF0uZGVwYXJ0bWVudElkfWAKICAgICAgICB0aGlzLnVzZXJMaXN0ID0gW10KICAgICAgICB0aGlzLnVzZXJMaXN0ID0gcmVzLmRhdGEKICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGdldFByb2R1Y3RzKCkgewogICAgICBsZXQgcGF5bG9hZCA9IHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIGxpbWl0OiAxMDAKICAgICAgfQogICAgICBQcm9kdWN0U2VydmljZS5nZXRJdGVtc0xpc3QocGF5bG9hZCwgJycpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnByb2R1Y3RMaXN0ID0gcmVzLmRhdGEubGlzdAogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgICAgdHlwZTonY29uZmlybScsCiAgICAgICAgICB0aXRsZTogZS5tZXNzYWdlLAogICAgICAgICAgcHJvZ3Jlc3M6ICdhdXRvJywKICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgY3JlYXRlRm9ybSgpIHsKICAgICAgLy8gSW52ZW50b3J5U2VydmljZS5jcmVhdGVJbnZlbnRvckRvYygpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmludmVudG9yeUZvcm1Gb3JNYW5hZ2VyID0gW10KICAgICAgICAvLyB0aGlzLmludmVudG9yeUZvcm1Gb3JNYW5hZ2VyID0gcmVzLmRhdGEKICAgICAgICB0aGlzLmludmVudG9yeUZvcm1Gb3JNYW5hZ2VyLmRlcGFydG1lbnRJZCA9IHRoaXMuZGVwSWQKICAgICAgICB0aGlzLmludmVudG9yeUZvcm1Gb3JNYW5hZ2VyLnVzZXJJZCA9ICcnCiAgICAgICAgdGhpcy5pbnZlbnRvcnlGb3JtRm9yTWFuYWdlci5yZWdOdW1iZXIgPSAnJwogICAgICAgIHRoaXMuaW52ZW50b3J5Rm9ybUZvck1hbmFnZXIucmVnRGF0ZSA9ICcnCiAgICAgICAgdGhpcy5jcmVhdGVFZGl0TW9kYWwgPSB0cnVlCiAgICAgIC8vIH0pLmNhdGNoKGUgPT4gewogICAgICAvLyAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgIC8vIHR5cGU6J2NvbmZpcm0nLAogICAgICAvLyAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgLy8gICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgIC8vICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgIC8vICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgLy8gICB9KQogICAgICAvLyB9KQogICAgfSwKICAgIHNhdmVEcmFmdCgpIHsKICAgICAgdGhpcy4kcmVmcy5pbnZlbnRvcnlGb3JtRm9yTWFuYWdlci52YWxpZGF0ZSgpLnRoZW4odmFsaWQgPT4gewogICAgICAgIGlmKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLmludmVudG9yeURvY3MudW5zaGlmdCh0aGlzLmludmVudG9yeUZvcm1Gb3JNYW5hZ2VyKQogICAgICAgICAgdGhpcy5jcmVhdGVFZGl0TW9kYWwgPSBmYWxzZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgICAgICB0eXBlOidjb25maXJtJywKICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3JlcXVpcmVkX2Vycm9yJyksCiAgICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICB2aWV3Rm9ybSgpewogICAgICB0aGlzLmludmVudG9yeUZvcm1Gb3JVc2VyID0ge30KICAgICAgdGhpcy5pbnZlbnRvcnlGb3JtRm9yVXNlci5pbnZJdGVtcyA9IFtdCiAgICAgIHRoaXMuZHluYW1pY1Byb2R1Y3QgPSB7fQogICAgICB0aGlzLmludmVudG9yeU1vZGFsID0gdHJ1ZQogICAgfSwKICAgIHNhdmVJbnZlbnRvcnkoc3RhdHVzKSB7CiAgICAgIGlmKCF0aGlzLml0ZW1JZCAmJiB0aGlzLmludmVudG9yeUZvcm1Gb3JVc2VyLmludkl0ZW1zLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmludmVudG9yeUZvcm1Gb3JVc2VyLnN0YXR1cyA9IHN0YXR1cwogICAgICAgIGxldCB0bXAgPSB0cnVlCiAgICAgICAgaWYoc3RhdHVzID09PSAnUkVBRFknKSB7CiAgICAgICAgICBpZiAodGhpcy5pbnZlbnRvcnlGb3JtRm9yVXNlci5pbnZJdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRtcCA9IHRydWUKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRtcCA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgdHlwZTonY29uZmlybScsCiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2l0ZW1fcmVxdWlyZWRfZXJyb3InKSwKICAgICAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHRtcCkgewogICAgICAgICAgLy8gSW52ZW50b3J5U2VydmljZS5jcmVhdGVJbnZlbnRvckRvYyh0aGlzLmludmVudG9yeUZvcm1Gb3JVc2VyKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuaW52ZW50b3J5TW9kYWwgPSBmYWxzZQogICAgICAgICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdzdWNjZXNzX3VwZGF0ZWQnKSwKICAgICAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgICAgIGNvbG9yOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgICAgIH0pCiAgICAgICAgICAvLyB9KS5jYXRjaChlID0+IHsKICAgICAgICAgIC8vICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIC8vICAgICB0aXRsZTogZS5tZXNzYWdlLAogICAgICAgICAgLy8gICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICAvLyAgICAgY29sb3I6ICdkYW5nZXInLAogICAgICAgICAgLy8gICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JwogICAgICAgICAgLy8gICB9KQogICAgICAgICAgLy8gfSkKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIHRpdGxlOiAnTWFoc3Vsb3RsYXIgUW9gc2hpbG1hZ2FuJywKICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgZWRpdEZvcm0oKXsKCiAgICB9LAogICAgZGVsZXRlRm9ybSgpIHsKICAgICAgdGhpcy5kZWxldGVNb2RhbCA9IGZhbHNlCiAgICB9LAogICAgZGVsZXRlRHluYW1pY0l0ZW0oKSB7CgogICAgfSwKICAgIGRlbGV0ZUluY29tZURvYygpIHsKCiAgICB9LAogICAgaXRlbVNldChpdGVtSWQpIHsKICAgICAgdGhpcy5wcm9kdWN0TGlzdC5mb3JFYWNoKHByb2R1Y3QgPT4gewogICAgICAgIGlmIChwcm9kdWN0LmlkID09PSBpdGVtSWQpIHsKICAgICAgICAgIHRoaXMuZHluYW1pY1Byb2R1Y3QgPSBwcm9kdWN0CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGFkZFRvSW52TGlzdCgpIHsKICAgICAgaWYodGhpcy5pdGVtSWQpIHsKICAgICAgICBsZXQgaGFzID0gZmFsc2UKICAgICAgICBsZXQgaW5kID0gMAogICAgICAgIHRoaXMuaW52ZW50b3J5Rm9ybUZvclVzZXIuaW52SXRlbXMuZm9yRWFjaCgoaW52UHJvZHVjdCwgaW5kZXgpID0+IHsKICAgICAgICAgIGlmKGludlByb2R1Y3QuaWQgPT09IHRoaXMuZHluYW1pY1Byb2R1Y3QuaWQpIHsKICAgICAgICAgICAgaGFzID0gdHJ1ZQogICAgICAgICAgICBpbmQgPSBpbmRleAogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgaWYoaGFzKSB7CiAgICAgICAgICB0aGlzLmludmVudG9yeUZvcm1Gb3JVc2VyLmludkl0ZW1zLnNwbGljZShpbmQsIDEpCiAgICAgICAgfQogICAgICAgIGxldCBwcm9kdWN0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5keW5hbWljUHJvZHVjdCkKICAgICAgICB0aGlzLmR5bmFtaWNQcm9kdWN0LnNpemVzLmZvckVhY2goKHMsIGkpID0+IHsKICAgICAgICAgIGxldCB0bXAgPSBPYmplY3QuYXNzaWduKHt9LCBwcm9kdWN0KQogICAgICAgICAgaWYocy5jb3VudCkgewogICAgICAgICAgICB0bXAuc2l6ZUlkID0gcy5pZAogICAgICAgICAgICB0bXAuc2l6ZSA9IHMub2xjaGFtCiAgICAgICAgICAgIHRtcC5jb3VudCA9IHMuY291bnQKICAgICAgICAgICAgdGhpcy5pbnZlbnRvcnlGb3JtRm9yVXNlci5pbnZJdGVtcy51bnNoaWZ0KHRtcCkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIHRoaXMuZHluYW1pY1Byb2R1Y3QgPSB7fQogICAgICAgIHRoaXMuaXRlbUlkID0gJycKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3JlcXVpcmVkX2Vycm9yJyksCiAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgY29sb3I6ICdkYW5nZXInLAogICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERlcGFydG1lbnRzKCk7CiAgICB0aGlzLmdldFByb2R1Y3RzKCk7CiAgfSwKICB3YXRjaDogewogICAgJ3NlbGVjdGVkJzogewogICAgICBoYW5kbGVyKGUpIHsKICAgICAgICB0aGlzLmRlcGFydG1lbnRMaXN0LmZvckVhY2godCA9PiB7CiAgICAgICAgICBpZih0Lm5hbWUgPT0gZSkgewogICAgICAgICAgICB0aGlzLmRlcElkID0gYCR7dC5pZH1gCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZXAgPSB0CiAgICAgICAgICAgIHRoaXMudXNlckxpc3QuZm9yRWFjaCh1ID0+IHsKICAgICAgICAgICAgICB1LmRlcGFydG1lbnRJZCA9IHQuaWQKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIHRoaXMuZ2V0VXNlcnNMaXN0KCkKICAgICAgfQogICAgfSwKICAgICdkZXBJZCc6IHsKICAgICAgaGFuZGxlcihlKSB7CiAgICAgICAgdGhpcy5nZXRVc2Vyc0xpc3QoKQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA4MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/modules/wms/inventory","sourcesContent":["<template>\n  <div>\n    <q-table\n      class=\"shadow-10\"\n      row-key=\"id\"\n      row=\"row\"\n      :data=\"inventoryDocs\"\n      :columns=\"columns\"\n      :hide-pagination=\"true\"\n      :rows-per-page-options=\"[0]\"\n    >\n      <template v-slot:top>\n          <div v-if=\"windowWidth > 600\" class=\"q-table__title\">{{ $t('wms.inventory.title') }}</div>\n          <q-space v-if=\"windowWidth > 600\"/>\n          <vs-input state=\"primary\" icon-after class=\"q-mr-lg\" v-model=\"search\"    :placeholder=\"$t('actions.search')\">\n            <template #icon>\n              <q-icon name=\"search\"/>\n            </template>\n          </vs-input>\n        <q-space v-if=\"windowWidth < 600\"/>\n        <vs-button success animation-type=\"rotate\" @click=\"createForm\">\n          <q-icon name=\"add\"/>\n          <template #animate>\n            <q-icon name=\"add\"/>\n          </template>\n        </vs-button>\n        <q-separator/>\n      </template>\n      <template v-slot:body-cell-id=\"props\">\n        <q-td class=\"text-center\">{{ props.rowIndex + 1 }}</q-td>\n      </template>\n      <template v-slot:body-cell-actions=\"props\">\n        <q-td class=\"text-center\">\n          <vs-button style=\"display: inline-block\" flat icon dark @click=\"viewForm(props.row)\">\n            <q-icon name=\"eye\"/>\n          </vs-button>\n          <vs-button style=\"display: inline-block\" flat icon primary @click=\"editForm(props.row.id)\">\n            <q-icon name=\"edit\"/>\n          </vs-button>\n          <vs-button style=\"display: inline-block\" flat icon danger @click=\"deleteForm(props.row.id)\">\n            <q-icon name=\"delete\"/>\n          </vs-button>\n        </q-td>\n      </template>\n    </q-table>\n    <!--         Create / Edit  For Manager       -->\n    <vs-dialog v-model=\"createEditModal\" blur prevent-close width=\"100%\">\n      <template #header>\n        <b v-if=\"create\">{{ $t('wms.inventory.new_inventory') }}</b>\n        <b v-else>{{ $t('wms.inventory.edit_inventory') }}</b>\n      </template>\n      <q-separator/>\n      <validation-observer ref=\"inventoryFormForManager\" v-slot=\"{}\">\n        <vs-row>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider v-slot=\"{valid}\" rules=\"required\" name=\"departmentId\">\n              <vs-select\n                block\n                class=\"mt-3\"\n                :danger=\"!valid\"\n                :label=\"$t('doc.department')\"\n                :class=\"!valid ? 'required' : ''\"\n                v-model=\"depId\"\n                :key=\"`departmentList-${departmentList.length}`\"\n              >\n                <vs-option-group>\n                  <div>{{ $t('doc.department') }}</div>\n                  <vs-option  v-for=\"(dep, i) in departmentList\" :key=\"i\" :label=\"dep.name\" :value=\"dep.id\">\n                    {{ dep.name }}\n                  </vs-option>\n                </vs-option-group>\n              </vs-select>\n            </validation-provider>\n          </vs-col>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n              <validation-provider v-slot=\"{valid}\" rules=\"required\" name=\"userId\">\n                <vs-select\n                  block\n                  class=\"mt-3\"\n                  :danger=\"!valid\"\n                  :label=\"$t('wms.inventory.responsible')\"\n                  :class=\"!valid ? 'required' : ''\"\n                  v-model=\"inventoryFormForManager.userId\"\n                  :key=\"`userList-${userList.length}`\"\n                >\n                  <vs-option-group>\n                    <div>{{ $t('wms.inventory.responsible') }}</div>\n                    <vs-option v-for=\"(user, i) in userList\" :key=\"i\" :label=\"user.name\" :value=\"user.id\">\n                      {{ user.name }}\n                    </vs-option>\n                  </vs-option-group>\n                </vs-select>\n              </validation-provider>\n            </vs-col>\n            <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider v-slot=\"{valid}\" rules=\"required\" name=\"regNumber\">\n              <vs-input\n                  state=\"primary\"\n                  block\n                  :danger=\"!valid\"\n                  class=\"mt-3 ml-1\"\n                  :label=\"$t('doc.regNumber')\"\n                  v-model=\"inventoryFormForManager.regNumber\"\n                  :class=\"!valid ? 'required' : ''\"\n              />\n            </validation-provider>\n          </vs-col>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider v-slot=\"{valid}\" rules=\"required\" name=\"regDate\">\n              <vs-inputstate=\"primary\"\n                  block\n                  type=\"date\"\n                  :danger=\"!valid\"\n                  class=\"mt-3 ml-1\"\n                  :label=\"$t('doc.regDate')\"\n                  v-model=\"inventoryFormForManager.regDate\"\n                  :class=\"!valid ? 'required' : ''\"\n              />\n            </validation-provider>\n          </vs-col>\n        </vs-row>\n      </validation-observer>\n       <template #footer>\n        <vs-button class=\"mt-2\" block primary gradient @click=\"saveDraft\">{{ $t('actions.save') }}</vs-button>\n      </template>\n    </vs-dialog>\n    <!--         Create / Edit  For Emplayee         -->\n    <vs-dialog v-model=\"inventoryModal\" blur prevent-close width=\"100%\">\n      <template #header>\n        <b v-if=\"create\">{{ $t('wms.inventory.new_inventory') }}</b>\n        <b v-else>{{ $t('wms.inventory.edit_inventory') }}</b>\n      </template>\n      <q-separator/>\n      <validation-observer ref=\"inventoryFormForUser\" v-slot=\"{}\">\n        <vs-row>\n          <vs-col>\n            <validation-provider name=\"itemId\">\n              <vs-select\n                  block\n                  class=\"mt-3\"\n                  v-model=\"itemId\"\n                  @change=\"itemSet($event)\"\n                  :label=\"$t('references.product')\"\n                  :key=\"`productList-${productList.length}`\"\n              >\n                <vs-option-group>\n                  <div>{{ $t('references.product') }}</div>\n                  <vs-option v-for=\"(pro, ind) in productList\" :label=\"`${pro.cku} / ${pro.name}`\" :value=\"pro.id\">\n                    {{ pro.cku }} / {{ pro.name }}\n                  </vs-option>\n                </vs-option-group>\n              </vs-select>\n            </validation-provider>\n            <vs-row class=\"mt-1\" v-if=\"itemId\">\n              <vs-col w=\"6\" v-for=\"sizeCount in dynamicProduct.sizes\">\n               <validation-provider v-slot=\"{valid}\">\n                  <vs-input state=\"primary\" :class=\"!valid ? 'required' : ''\" type=\"number\" block class=\"mt-3\" :label=\"`${$t('items.count')} - ${sizeCount.olcham}`\" v-model=\"sizeCount.count\"/>\n               </validation-provider>\n              </vs-col>\n              <vs-col :w=\"windowWidth > 600 ? '6' : '12'\" align=\"center\" class=\"mt-1\">\n                <vs-button flat @click=\"addToInvList\">{{ $t('actions.add') }}</vs-button>\n              </vs-col>\n            </vs-row>\n            <vs-row v-if=\"inventoryFormForUser.invItems.length > 0\" class=\"mt-1\">\n              <vs-col>\n                <q-table row-key=\"id\" row=\"row\" class=\"shadow-10\" dense :data=\"inventoryFormForUser.invItems\" :columns=\"dynamicProductCols\" :hide-pagination=\"true\" :rows-per-page-options=\"[0]\">\n                  <template v-slot:body-cell-id=\"props\">\n                    <q-td class=\"text-center\">\n                      {{ props.rowIndex+1 }}\n                    </q-td>\n                  </template>\n                  <template v-slot:body-cell-actions=\"props\">\n                    <q-td class=\"text-center\">\n                      <vs-button style=\"display: inline-block\" @click=\"viewForm(props.rowIndex)\" flat icon primary>\n                        <q-icon name=\"edit\"/>\n                      </vs-button>\n                      <vs-button @click=\"deleteDynamicItem(props.rowIndex)\" style=\"display: inline-block\" flat icon danger>\n                        <q-icon name=\"delete\"/>\n                      </vs-button>\n                    </q-td>\n                  </template>\n                </q-table>\n              </vs-col>\n            </vs-row>\n          </vs-col>\n        </vs-row>\n      </validation-observer>\n      <template #footer>\n        <vs-row>\n          <vs-col w=\"6\">\n            <vs-button @click=\"saveInventory('SUSPENDED')\" class=\"mt-2 mr-1\" block warn gradient>{{ $t('actions.save') }}</vs-button>\n          </vs-col>\n          <vs-col w=\"6\">\n            <vs-button @click=\"saveInventory('READY')\" class=\"mt-2 ml-1\" block success gradient>{{ $t('actions.save_end_finish') }}</vs-button>\n          </vs-col>\n        </vs-row>\n      </template>\n    </vs-dialog>\n    <!--       Delete       -->\n    <confirm-modal :model=\"deleteModal\" @submit=\"deleteIncomeDoc\" @close=\"deleteModal = false\" :text=\"$t('confirm_delete')\"/>\n  </div>\n</template>\n\n<script>\nimport confirmModal from '../../../components/confirmModal.vue'\nimport ProductService from \"../../references/product/product.service\"\nimport InventoryService from \"./inventory.service\"\nexport default {\n  name: \"index\",\n  components: {confirmModal},\n  data() {\n    return {\n      windowWidth: window.innerWidth,\n      payload: {\n        page: 0,\n        limit: 50\n      },\n      inventoryDocs: [],\n      departmentList: [],\n      userList: [],\n      productList: [],\n      itemId: '',\n      depId: '',\n      selected: '',\n      selectedDep: {},\n      dynamicProduct: {},\n      columns: [\n        {name: 'id', align: 'center', label: this.$t('doc.index'), field: 'id'},\n        {name: 'regNumber', align: 'left', label: this.$t('doc.regNumber'), field: 'regNumber'},\n        {name: 'regDate', align: 'center', label: this.$t('doc.regDate'), field: 'regDate'},\n        {name: 'departmentName', align: 'center', label: this.$t('doc.department'), field: 'departmentName'},\n        {name: 'userName', align: 'center', label: this.$t('wms.inventory.responsible'), field: 'userName'},\n        {name: 'status', align: 'center', label: this.$t('doc.status'), field: 'status'},\n        {name: 'actions', align: 'center', label: this.$t('doc.action'), field: 'actions'}\n      ],\n      dynamicProductCols: [\n        {name: 'id', align: 'center', label: this.$t('items.index'), field: 'id'},\n        {name: 'cku', align: 'center', label: this.$t('items.sku'), field: 'cku'},\n        // {name: 'name', align: 'center', label: this.$t('items.name'), field: 'name'},\n        {name: 'size', align: 'center', label: this.$t('items.size'), field: 'size'},\n        {name: 'count', align: 'center', label: this.$t('items.count'), field: 'count'},\n        {name: 'actions', align: 'center', label: this.$t('items.action'), field: 'actions'}\n      ],\n      inventoryFormForManager: {},\n      inventoryFormForUser: {},\n      search: '',\n      createEditModal: false,\n      inventoryModal: false,\n      create: true,\n      deleteModal: false,\n    }\n  },\n  methods: {\n    getInventoryDocs() {\n\n    },\n    getDepartments() {\n      InventoryService.getDepartments().then(res => {\n        this.depId= `${res.data[0].id}`\n        this.departmentList = []\n        this.departmentList = res.data\n        this.selected = res.data[0].name\n      }).catch(e => {\n        this.$vs.notification({\n          type:'confirm',\n          title: e.message,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n    },\n    getUsersList() {\n      InventoryService.getUsersByDepId(this.depId).then(res => {\n        this.depId = `${res.data[0].departmentId}`\n        this.userList = []\n        this.userList = res.data\n      }).catch(e => {\n        this.$vs.notification({\n          type:'confirm',\n          title: e.message,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n    },\n    getProducts() {\n      let payload = {\n        page: 0,\n        limit: 100\n      }\n      ProductService.getItemsList(payload, '').then(res => {\n        this.productList = res.data.list\n      }).catch(e => {\n        this.$vs.notification({\n          type:'confirm',\n          title: e.message,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n    },\n    createForm() {\n      // InventoryService.createInventorDoc().then(res => {\n        this.inventoryFormForManager = []\n        // this.inventoryFormForManager = res.data\n        this.inventoryFormForManager.departmentId = this.depId\n        this.inventoryFormForManager.userId = ''\n        this.inventoryFormForManager.regNumber = ''\n        this.inventoryFormForManager.regDate = ''\n        this.createEditModal = true\n      // }).catch(e => {\n      //   this.$vs.notification({\n      // type:'confirm',\n      //     title: e.message,\n      //     progress: 'auto',\n      //     color: 'danger',\n      //     position: 'top-right'\n      //   })\n      // })\n    },\n    saveDraft() {\n      this.$refs.inventoryFormForManager.validate().then(valid => {\n        if(valid) {\n          this.inventoryDocs.unshift(this.inventoryFormForManager)\n          this.createEditModal = false\n        } else {\n          this.$vs.notification({\n            type:'confirm',\n            title: this.$t('required_error'),\n            progress: 'auto',\n            color: 'danger',\n            position: 'top-right'\n          })\n        }\n      })\n    },\n    viewForm(){\n      this.inventoryFormForUser = {}\n      this.inventoryFormForUser.invItems = []\n      this.dynamicProduct = {}\n      this.inventoryModal = true\n    },\n    saveInventory(status) {\n      if(!this.itemId && this.inventoryFormForUser.invItems.length > 0) {\n        this.inventoryFormForUser.status = status\n        let tmp = true\n        if(status === 'READY') {\n          if (this.inventoryFormForUser.invItems.length > 0) {\n            tmp = true\n          } else {\n            tmp = false\n            this.$vs.notification({\n              type:'confirm',\n              title: this.$t('item_required_error'),\n              progress: 'auto',\n              color: 'danger',\n              position: 'top-right'\n            })\n          }\n        }\n        if (tmp) {\n          // InventoryService.createInventorDoc(this.inventoryFormForUser).then(res => {\n            this.inventoryModal = false\n            this.$vs.notification({\n              type:'confirm',\n              title: this.$t('success_updated'),\n              progress: 'auto',\n              color: 'success',\n              position: 'top-right'\n            })\n          // }).catch(e => {\n          //   this.$vs.notification({\n          //     title: e.message,\n          //     progress: 'auto',\n          //     color: 'danger',\n          //     position: 'top-right'\n          //   })\n          // })\n        }\n      } else {\n        this.$vs.notification({\n          title: 'Mahsulotlar Qo`shilmagan',\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      }\n    },\n    editForm(){\n\n    },\n    deleteForm() {\n      this.deleteModal = false\n    },\n    deleteDynamicItem() {\n\n    },\n    deleteIncomeDoc() {\n\n    },\n    itemSet(itemId) {\n      this.productList.forEach(product => {\n        if (product.id === itemId) {\n          this.dynamicProduct = product\n        }\n      })\n    },\n    addToInvList() {\n      if(this.itemId) {\n        let has = false\n        let ind = 0\n        this.inventoryFormForUser.invItems.forEach((invProduct, index) => {\n          if(invProduct.id === this.dynamicProduct.id) {\n            has = true\n            ind = index\n          }\n        })\n        if(has) {\n          this.inventoryFormForUser.invItems.splice(ind, 1)\n        }\n        let product = Object.assign({}, this.dynamicProduct)\n        this.dynamicProduct.sizes.forEach((s, i) => {\n          let tmp = Object.assign({}, product)\n          if(s.count) {\n            tmp.sizeId = s.id\n            tmp.size = s.olcham\n            tmp.count = s.count\n            this.inventoryFormForUser.invItems.unshift(tmp)\n          }\n        })\n        this.dynamicProduct = {}\n        this.itemId = ''\n      } else {\n        this.$vs.notification({\n          title: this.$t('required_error'),\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      }\n    },\n  },\n  created() {\n    this.getDepartments();\n    this.getProducts();\n  },\n  watch: {\n    'selected': {\n      handler(e) {\n        this.departmentList.forEach(t => {\n          if(t.name == e) {\n            this.depId = `${t.id}`\n            this.selectedDep = t\n            this.userList.forEach(u => {\n              u.departmentId = t.id\n            })\n          }\n        })\n        this.getUsersList()\n      }\n    },\n    'depId': {\n      handler(e) {\n        this.getUsersList()\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}