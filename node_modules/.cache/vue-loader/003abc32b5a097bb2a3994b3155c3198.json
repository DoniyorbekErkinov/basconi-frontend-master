{"remainingRequest":"P:\\noenter\\basconi-frontend-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!P:\\noenter\\basconi-frontend-master\\src\\modules\\references\\payment\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"P:\\noenter\\basconi-frontend-master\\src\\modules\\references\\payment\\index.vue","mtime":1652787130000},{"path":"P:\\noenter\\basconi-frontend-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695882313197},{"path":"P:\\noenter\\basconi-frontend-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1695882545643}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBQYXltZW50U2VydmljZSBmcm9tICIuL3BheW1lbnQuc2VydmljZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGF5bWVudExpc3Q6IFtdLAogICAgICBjb2x1bW5zOiBbCiAgICAgICAge25hbWU6ICdpZCcsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2RvYy5pbmRleCcpLCBmaWVsZDogJ2luZGV4J30sCiAgICAgICAge25hbWU6ICduYW1lJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnZG9jLm5hbWUnKSwgZmllbGQ6ICduYW1lJ30sCiAgICAgICAgLy8ge25hbWU6ICdhY3Rpb24nLCBhbGlnbjogJ2NlbnRlcicsIGxhYmVsOiB0aGlzLiR0KCdkb2MuYWN0aW9uJyksIGZpZWxkOiAnYWN0aW9uJ30KICAgICAgXSwKICAgICAgY3JlYXRlOiB0cnVlLAogICAgICBjcmVhdGVNb2RhbDogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBuYW1lOiBudWxsLAogICAgICB9LAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UGF5bWVudExpc3QoKSB7CiAgICAgIFBheW1lbnRTZXJ2aWNlLmdldFBheW1lbnRMaXN0KCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMucGF5bWVudExpc3QgPSByZXMuZGF0YQogICAgICB9KQogICAgfSwKICAgIGNyZWF0ZUZvcm0oKSB7CiAgICAgIHRoaXMuY3JlYXRlID0gdHJ1ZQogICAgICB0aGlzLmZvcm0gPSB7fQogICAgICB0aGlzLmNyZWF0ZU1vZGFsID0gdHJ1ZQogICAgfSwKICAgIHNhdmUoKSB7CiAgICAgIHRoaXMuJHJlZnMucGF5bWVudEZvcm0udmFsaWRhdGUoKS50aGVuKHZhbGlkID0+IHsKICAgICAgICBpZih2YWxpZCkgewogICAgICAgICAgaWYodGhpcy5jcmVhdGUpIHsKICAgICAgICAgICAgUGF5bWVudFNlcnZpY2Uuc2F2ZVBheW1lbnQodGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVNb2RhbCA9IGZhbHNlCiAgICAgICAgICAgICAgdGhpcy5nZXRQYXltZW50TGlzdCgpCiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgICB0eXBlOidjb25maXJtJywKICAgICAgICAgICAgICAgIHRpdGxlOiBlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCwKICAgICAgICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgUGF5bWVudFNlcnZpY2UudXBkYXRlUGF5bWVudCh0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU1vZGFsID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLmdldFBheW1lbnRMaXN0KCkKICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgICAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdhdXRvJywKICAgICAgICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgICBkdXJhdGlvbjogMTAwMCwKICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3JlcXVpcmVkX2Vycm9yJyksCiAgICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIHR5cGU6J2NvbmZpcm0nLAogICAgICAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgICAgcHJvZ3Jlc3M6ICdhdXRvJywKICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UGF5bWVudExpc3QoKQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA4DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/modules/references/payment","sourcesContent":["<template>\n<div>\n  <q-table\n    class=\"q-mx-auto shadow-10\"\n    bordered\n    row-key=\"id\"\n    row=\"row\"\n    :data=\"paymentList\"\n    :columns=\"columns\"\n    :hide-pagination=\"true\"\n    :rows-per-page-options=\"[0]\"\n  >\n    <template v-slot:top>\n      <div class=\"q-table__title\">{{ $t('references.payment') }}</div>\n      <q-space/>\n      <vs-button v-if=\"$can('Save', 'Color')\" success animation-type=\"rotate\" @click=\"createForm\">\n        <q-icon name=\"add\"/>\n        <template #animate>\n          <q-icon name=\"add\"/>\n        </template>\n      </vs-button>\n    </template>\n    <template v-slot:body-cell-code=\"props\">\n      <q-td class=\"text-center\">\n        <q-badge>{{ props.row.code }}</q-badge>\n      </q-td>\n    </template>\n    <template v-slot:body-cell-id=\"props\">\n      <q-td class=\"text-center\">{{ props.rowIndex + 1 }}</q-td>\n    </template>\n  </q-table>\n  <!--    Create / Edit   -->\n  <vs-dialog blur prevent-close v-model=\"createModal\">\n    <template #header>\n      <b v-if=\"create\">{{ $t('references.new_payment_type') }}</b>\n      <b v-else>{{ $t('references.edit_payment_type') }}</b>\n    </template>\n    <q-separator/>\n    <validation-observer ref=\"paymentForm\" v-slot=\"{}\">\n      <validation-provider v-slot=\"{valid}\" rules=\"required\" name=\"name\">\n        <vs-input\n            state=\"primary\"\n            block\n            class=\"mt-3\"\n            :danger=\"!valid\"\n            v-model=\"form.name\"\n            :label=\"$t('doc.name')\"\n            :placeholder=\"$t('doc.name')\"\n            :class=\"!valid ? 'required' : ''\"\n        />\n      </validation-provider>\n    </validation-observer>\n    <template #footer>\n      <vs-button @keyup.enter=\"save\" class=\"mt-2\" block primary gradient @click=\"save\">{{ $t('actions.save') }}</vs-button>\n    </template>\n  </vs-dialog>\n</div>\n</template>\n\n<script>\nimport PaymentService from \"./payment.service\";\n\nexport default {\n  name: \"index\",\n  data() {\n    return {\n      paymentList: [],\n      columns: [\n        {name: 'id', align: 'center', label: this.$t('doc.index'), field: 'index'},\n        {name: 'name', align: 'center', label: this.$t('doc.name'), field: 'name'},\n        // {name: 'action', align: 'center', label: this.$t('doc.action'), field: 'action'}\n      ],\n      create: true,\n      createModal: false,\n      form: {\n        name: null,\n      },\n    }\n  },\n  methods: {\n    getPaymentList() {\n      PaymentService.getPaymentList().then(res => {\n        this.paymentList = res.data\n      })\n    },\n    createForm() {\n      this.create = true\n      this.form = {}\n      this.createModal = true\n    },\n    save() {\n      this.$refs.paymentForm.validate().then(valid => {\n        if(valid) {\n          if(this.create) {\n            PaymentService.savePayment(this.form).then(res => {\n              this.createModal = false\n              this.getPaymentList()\n            }).catch(e => {\n              this.$vs.notification({\n                type:'confirm',\n                title: e.message,\n                duration: 1000,\n                progress: 'auto',\n                color: 'danger',\n                position: 'top-right'\n              })\n            })\n          } else {\n            PaymentService.updatePayment(this.form).then(res => {\n              this.createModal = false\n              this.getPaymentList()\n            }).catch(e => {\n              this.$vs.notification({\n                type:'confirm',\n                title: e.message,\n                duration: 1000,\n                progress: 'auto',\n                color: 'danger',\n                position: 'top-right'\n              })\n            })\n          }\n        } else {\n          this.$vs.notification({\n            type:'confirm',\n            duration: 1000,\n            title: this.$t('required_error'),\n            progress: 'auto',\n            color: 'danger',\n            position: 'top-right'\n          })\n        }\n      }).catch(e => {\n        this.$vs.notification({\n          type:'confirm',\n          title: e.message,\n          duration: 1000,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n    },\n  },\n  created() {\n    this.getPaymentList()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}