{"remainingRequest":"P:\\noenter\\basconi-frontend-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!P:\\noenter\\basconi-frontend-master\\src\\modules\\wms\\writeOff\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"P:\\noenter\\basconi-frontend-master\\src\\modules\\wms\\writeOff\\index.vue","mtime":1652787130000},{"path":"P:\\noenter\\basconi-frontend-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695882313197},{"path":"P:\\noenter\\basconi-frontend-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1695882545643}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBXcml0ZU9mU2VydmljZSBmcm9tICIuL3dyaXRlX29mZi5zZXJ2aWNlIjsKaW1wb3J0IGNvbmZpcm1Nb2RhbCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NvbmZpcm1Nb2RhbC52dWUnOwppbXBvcnQgRGVwYXJ0bWVudFNlcnZpY2UgZnJvbSAnLi4vLi4vbWFuYWdlbWVudC9kZXBhcnRtZW50L2RlcGFydG1lbnQuc2VydmljZSc7CmltcG9ydCBXYXJlSGFzZVNlcnZpY2UgZnJvbSAnLi4vd2FyZWhvdXNlL3dhcmVob3VzZS5zZXJ2aWNlJzsKaW1wb3J0IFRyYW5zZmVyU2VydmljZSBmcm9tICIuLi90cmFuc2Zlci90cmFuc2Zlci5zZXJ2aWNlIjsKaW1wb3J0IEluY29tZVNlcnZpY2UgZnJvbSAiLi4vaW5jb21lL2luY29tZS5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewpuYW1lOiAiaW5kZXgiLApjb21wb25lbnRzOiB7Y29uZmlybU1vZGFsfSwKZGF0YSgpIHsKICByZXR1cm4gewogICAgY29sdW1uczogWwogICAgICB7bmFtZTogJ2lkJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnZG9jLmluZGV4JyksIGZpZWxkOiAnaWQnfSwKICAgICAge25hbWU6ICdmcm9tRGVwYXJ0bWVudElkJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnZG9jLmRlcGFydG1lbnQnKSwgZmllbGQ6ICdmcm9tRGVwYXJ0bWVudE5hbWUnfSwKICAgICAge25hbWU6ICdyZWdOdW1iZXInLCBhbGlnbjogJ2NlbnRlcicsIGxhYmVsOiB0aGlzLiR0KCdkb2MucmVnTnVtYmVyJyksIGZpZWxkOiAncmVnTnVtYmVyJ30sCiAgICAgIHtuYW1lOiAncmVnRGF0ZScsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2RvYy5yZWdEYXRlJyksIGZpZWxkOiAncmVnRGF0ZSd9LAogICAgICB7bmFtZTogJ2NvbW1lbnQnLCBhbGlnbjogJ2NlbnRlcicsIGxhYmVsOiB0aGlzLiR0KCdkb2MuY29tbWVudCcpLCBmaWVsZDogJ2NvbW1lbnQnfSwKICAgICAge25hbWU6ICdzdGF0dXMnLCBhbGlnbjogJ2NlbnRlcicsIGxhYmVsOiB0aGlzLiR0KCdkb2Muc3RhdHVzJyksIGZpZWxkOiAnc3RhdHVzJ30sCiAgICAgIHtuYW1lOiAnYWN0aW9ucycsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2RvYy5hY3Rpb24nKSwgZmllbGQ6ICdhY3Rpb25zJ30KICAgIF0sCiAgICBkeW5hbWljSXRlbUNvbHM6IFsKICAgICAge25hbWU6ICdpZCcsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2l0ZW1zLmluZGV4JyksIGZpZWxkOiAnaWQnfSwKICAgICAge25hbWU6ICdja3UnLCBhbGlnbjogJ2NlbnRlcicsIGxhYmVsOiB0aGlzLiR0KCdpdGVtcy5za3UnKSwgZmllbGQ6ICdpdGVtQ2t1J30sCiAgICAgIHtuYW1lOiAnYnJhbmROYW1lJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnaXRlbXMuYnJhbmQnKSwgZmllbGQ6ICdicmFuZE5hbWUnfSwKICAgICAge25hbWU6ICdzaXplJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnaXRlbXMuc2l6ZScpLCBmaWVsZDogJ3NpemVPbGNoYW0nfSwKICAgICAge25hbWU6ICdwcmljZScsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2l0ZW1zLnByaWNlJyksIGZpZWxkOiAncHJpY2UnfSwKICAgICAge25hbWU6ICdjb3VudCcsIGFsaWduOiAnY2VudGVyJywgbGFiZWw6IHRoaXMuJHQoJ2l0ZW1zLmNvdW50JyksIGZpZWxkOiAnY291bnQnfSwKICAgICAge25hbWU6ICdhY3Rpb25zJywgYWxpZ246ICdjZW50ZXInLCBsYWJlbDogdGhpcy4kdCgnaXRlbXMuYWN0aW9uJyksIGZpZWxkOiAnYWN0aW9ucyd9CiAgICBdLAogICAgd2luZG93V2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLAogICAgcGF5bG9hZDogewogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogMjAKICAgIH0sCiAgICBrZXl3b3JkOiAnJywKICAgIHNlYXJjaDogJycsCiAgICB0b3RhbEl0ZW1zOiAwLAogICAgdG90YWxJdGVtOiAwLAogICAgcGFnaW5hdGlvbjogewogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogMjAKICAgIH0sCiAgICBjcmVhdGU6IHRydWUsCiAgICBjcmVhdGVFZGl0TW9kYWw6IGZhbHNlLAogICAgZGVsZXRlTW9kYWw6IGZhbHNlLAogICAgcmVtb3ZlZExpc3Q6IFtdLAogICAgd3JpdGVPZkZvcm06IHt9LAogICAgZGVwYXJ0bWVudExpc3Q6IFtdLAogICAgZnJvbURlcGFydG1lbnRJZDogJycsCiAgICBpdGVtSWQ6ICcnLAogICAgaXRlbUxpc3Q6IFtdLAogICAgd2hJdGVtczogW10sCiAgICBkeW5hbWljSXRlbToge30sCiAgICBpdGVtTGVuZ3RoOiAnJywKICAgIGRlcElkOiAnJywKICAgIGRvY0lkOiBudWxsLAogICAgbm90aGluZzogbnVsbAogIH0KfSwKd2F0Y2g6IHsKfSwKY29tcHV0ZWQ6IHsKICBtYXhJdGVtcygpIHsKICAgIGxldCBtYXhJID0gdGhpcy50b3RhbEl0ZW0gLyB0aGlzLnBhZ2luYXRpb24ubGltaXQKICAgIHJldHVybiBNYXRoLmNlaWwobWF4SSkKICB9Cn0sCm1ldGhvZHM6IHsKICBhc3luYyBnZXREZXBMaXN0KCkgewogICAgYXdhaXQgIERlcGFydG1lbnRTZXJ2aWNlLmdldERlcGFydG1lbnRzTGlzdCgpLnRoZW4ocmVzID0+IHsKICAgICAgdGhpcy5kZXBhcnRtZW50TGlzdCA9IFtdCiAgICAgIHRoaXMuZGVwYXJ0bWVudExpc3QgPSByZXMuZGF0YQogICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICB9KQogICAgICB9KQogIH0sCiAgZ2V0UHJvZHVjdExpc3QoKSB7CiAgICBXYXJlSGFzZVNlcnZpY2UuZ2V0SXRlbUJ5RGVwSWQodGhpcy5kZXBJZCwgdGhpcy5wYWdpbmF0aW9uKS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMuaXRlbUxpc3QgPSByZXMuZGF0YS5saXN0CiAgICAgIHRoaXMudG90YWxJdGVtID1yZXMuZGF0YS50b3RhbAogICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIHRpdGxlOiBlLm1lc3NhZ2UsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICB9KQogICAgICB9KQogIH0sCiAgZ2V0UmVtb3ZlZExpc3QoKSB7CiAgICBXcml0ZU9mU2VydmljZS5nZXRXcml0ZU9mRG9jcyh0aGlzLmtleXdvcmQsIHRoaXMucGF5bG9hZCkudGhlbihyZXMgPT4gewogICAgICB0aGlzLnJlbW92ZWRMaXN0ID0gcmVzLmRhdGEubGlzdAogICAgICB0aGlzLnRvdGFsSW5jb21lID0gcmVzLmRhdGEudG90YWwKICAgIH0pLmNhdGNoKGUgPT4gewogICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgIHRpdGxlOiBlLm1lc3NhZ2UsCiAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgcHJvZ3Jlc3M6ICdhdXRvJywKICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgIH0pCiAgICB9KQogIH0sCiAgY3JlYXRlRm9ybSgpIHsKICAgIFdyaXRlT2ZTZXJ2aWNlLmNyZWF0ZVdyaXRlT2ZEb2MoKS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMud3JpdGVPZkZvcm0gPSB7fQogICAgICB0aGlzLndyaXRlT2ZGb3JtID0gcmVzLmRhdGEKICAgICAgdGhpcy53cml0ZU9mRm9ybS5mcm9tRGVwYXJ0bWVudElkID0gJycKICAgICAgdGhpcy53cml0ZU9mRm9ybS5jb21tZW50ID0gJycKICAgICAgdGhpcy53cml0ZU9mRm9ybS53aEl0ZW1zID0gW10KICAgICAgdGhpcy5keW5hbWljSXRlbSA9IHt9CiAgICAgIHRoaXMuaXRlbUlkID0gJycKICAgICAgdGhpcy5jcmVhdGVFZGl0TW9kYWwgPSB0cnVlCiAgICB9KS5jYXRjaChlID0+IHsKICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICB0aXRsZTogZS5tZXNzYWdlLAogICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgY29sb3I6ICdkYW5nZXInLAogICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JwogICAgICB9KQogICAgfSkKICB9LAogIGl0ZW1TZXQoaXRlbUlkKSB7CiAgICB0aGlzLml0ZW1MaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgIGlmIChpdGVtLmlkID09PSBpdGVtSWQpIHsKICAgICAgICB0aGlzLmR5bmFtaWNJdGVtID0gaXRlbQogICAgICB9CiAgICB9KQogIH0sCiAgZ2V0SXRlbUJ5RGVwSWQoZGVwSWQpewogICAgdGhpcy5yZW1vdmVkTGlzdCA9IFtdOwogICAgdGhpcy5nZXRQcm9kdWN0TGlzdChkZXBJZCk7CiAgICB0aGlzLndyaXRlT2ZGb3JtLndoSXRlbXMgPSBbXTsKICB9LAogIGFkZFdST0xpc3QoKXsKICAgIGlmKHRoaXMuZHluYW1pY0l0ZW0uY291bnQgPiAwKSB7CiAgICAgIGlmKHRoaXMuaXRlbUlkKSB7CiAgICAgICAgbGV0IGhhcyA9IGZhbHNlLAogICAgICAgICAgICBpbmQgPSAwCiAgICAgICAgdGhpcy53cml0ZU9mRm9ybS53aEl0ZW1zLmZvckVhY2goKHdoRG9jSXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgIGlmKHdoRG9jSXRlbS5pZCA9PT0gdGhpcy5keW5hbWljSXRlbS5pZCkgewogICAgICAgICAgICAgIGlmKHdoRG9jSXRlbS5yZW1haW5pbmcgPj0gdGhpcy5keW5hbWljSXRlbS5jb3VudCkgewogICAgICAgICAgICAgICAgaGFzID0gdHJ1ZSwKICAgICAgICAgICAgICAgIGluZCA9IGluZGV4CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgaWYgKGhhcykgewogICAgICAgICAgdGhpcy53cml0ZU9mRm9ybS53aEl0ZW1zLnNwbGljZShpbmQsIDEpCiAgICAgICAgfQogICAgICAgIGxldCBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5keW5hbWljSXRlbSkKICAgICAgICBpZihpdGVtLnJlbWFpbmluZyA+PSB0aGlzLmR5bmFtaWNJdGVtLmNvdW50KSB7CiAgICAgICAgICB0aGlzLndyaXRlT2ZGb3JtLndoSXRlbXMudW5zaGlmdChpdGVtKQogICAgICAgICAgdGhpcy5keW5hbWljSXRlbSA9IHt9CiAgICAgICAgICB0aGlzLml0ZW1JZCA9ICcnCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdiaWctY291bnQnKSwKICAgICAgICAgICAgcHJvZ3Jlc3M6ICdhdXRvJywKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgICB9KQogICAgICAgIH0KCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdyZXF1aXJlZF9lcnJvcicpLAogICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgICAgY29sb3I6ICdkYW5nZXInLAogICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgfSkKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kdnMubm90aWZpY2F0aW9uKHsKICAgICAgICB0aXRsZTogdGhpcy4kdCgnbm8tY291bnQnKSwKICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgfSkKICAgIH0KICB9LAogIHNhdmUoc3RhdHVzKSB7CiAgICB0aGlzLiRyZWZzLmZvcm1Xcml0ZU9mLnZhbGlkYXRlKCkudGhlbih2YWxpZCA9PiB7CiAgICAgIGlmKHZhbGlkKSB7CiAgICAgICAgdGhpcy53cml0ZU9mRm9ybS5zdGF0dXMgPSBzdGF0dXMKICAgICAgICBsZXQgdG1wID0gdHJ1ZQogICAgICAgIGlmKHN0YXR1cyA9PT0gJ1JFQURZJykgewogICAgICAgICAgaWYodGhpcy5pdGVtSWQgPT09ICcnICYmIHRoaXMud3JpdGVPZkZvcm0ud2hJdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRtcCA9IHRydWUKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRtcCA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3JlcXVpcmVkX2Vycm9yJyksCiAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdhdXRvJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSBpZiAodG1wKSB7CiAgICAgICAgICB0aGlzLndyaXRlT2ZGb3JtLmZyb21EZXBhcnRtZW50SWQgPSB0aGlzLmRlcElkCiAgICAgICAgICBXcml0ZU9mU2VydmljZS5zYXZlV3JpdGVPZkRvYyh0aGlzLndyaXRlT2ZGb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuZ2V0UmVtb3ZlZExpc3QoKQogICAgICAgICAgICB0aGlzLmNyZWF0ZUVkaXRNb2RhbCA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3N1Y2Nlc3NfdXBkYXRlZCcpLAogICAgICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgY29sb3I6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgICAgICAgIHRpdGxlOiBlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdhdXRvJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfWVsc2UgewogICAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgncmVxdWlyZWRfZXJyb3InKSwKICAgICAgICAgIHByb2dyZXNzOiAnYXV0bycsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JwogICAgICAgIH0pCiAgICAgIH0KICAgIH0pCiAgfSwKICBlZGl0RHluYW1pY0l0ZW0oaW5kZXgsIGl0ZW0pIHsKICAgIHRoaXMud3JpdGVPZkZvcm0ud2hJdGVtcy5zcGxpY2UoaW5kZXgsIDEpCiAgICBsZXQgdGVtID0gewogICAgICBpdGVtSWQ6IGl0ZW0uaXRlbUlkLAogICAgICBicmFuZE5hbWU6IGl0ZW0uYnJhbmQgPyBpdGVtLmJyYW5kIDogaXRlbS5icmFuZE5hbWUsCiAgICAgIGl0ZW1Da3U6IGl0ZW0uY2t1ID8gaXRlbS5ja3UgOiBpdGVtLml0ZW1Da3UsCiAgICAgIHNpemVPbGNoYW06IGl0ZW0uc2l6ZSA/IGl0ZW0uc2l6ZSA6IGl0ZW0uc2l6ZU9sY2hhbQogICAgfQogICAgdGhpcy5keW5hbWljSXRlbSA9IHRlbQogICAgdGhpcy5pdGVtSWQgPSB0aGlzLmR5bmFtaWNJdGVtLml0ZW1JZAp9LAogIGRlbGV0ZUR5bmFtaWNJdGVtKGluZGV4KSB7CiAgICB0aGlzLndyaXRlT2ZGb3JtLndoSXRlbXMuc3BsaWNlKGluZGV4LCAxKQogIH0sCiAgdmlld0Zvcm0oZG9jSWQpIHsKICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvd21zL3dyaXRlT2ZmL3dyaXRlT2ZmLXZpZXcvJHtkb2NJZH1gKQogIH0sCiAgZWRpdEZvcm0oZG9jSWQpIHsKICAgIEluY29tZVNlcnZpY2UuZ2V0SW5jb21lRG9jQnlJZChkb2NJZCkudGhlbihyZXMgPT4gewogICAgICB0aGlzLml0ZW1JZCA9ICcnCiAgICAgIHRoaXMuZHluYW1pY0l0ZW0gPSB7fQogICAgICB0aGlzLndyaXRlT2ZGb3JtID0gewogICAgICAgIC4uLnJlcy5kYXRhLAogICAgICAgIHdoSXRlbXM6IHJlcy5kYXRhLndoRG9jSXRlbXMsCiAgICAgICAgd2hEb2NJdGVtczpudWxsLAogICAgICB9CiAgICAgIHRoaXMuY3JlYXRlRWRpdE1vZGFsID0gdHJ1ZQogICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgIHRoaXMuJHZzLm5vdGlmaWNhdGlvbih7CiAgICAgICAgdGl0bGU6IGUubWVzc2FnZSwKICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcKICAgICAgfSkKICAgIH0pCiAgfSwKICBkZWxldGVGb3JtKGlkKSB7CiAgICB0aGlzLmRvY0lkID0gbnVsbAogICAgdGhpcy5kb2NJZCA9IGlkCiAgICB0aGlzLmRlbGV0ZU1vZGFsID0gdHJ1ZQogIH0sCiAgZGVsZXRlV3JpdGVPRkRvYygpIHsKICAgIFdyaXRlT2ZTZXJ2aWNlLmRlbGV0ZVdyaXRlT2ZEb2ModGhpcy5kb2NJZCkudGhlbihyZXMgPT4gewogICAgICB0aGlzLiR2cy5ub3RpZmljYXRpb24oewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCdzdWNjZXNzX2RlbGV0ZWQnKSwKICAgICAgICBwcm9ncmVzczogJ2F1dG8nLAogICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgIGNvbG9yOiAnc3VjY2VzcycsCiAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnCiAgICAgIH0pCiAgICAgIHRoaXMuZ2V0UmVtb3ZlZExpc3QoKTsKICAgICAgdGhpcy5kZWxldGVNb2RhbCA9IGZhbHNlCiAgICB9KQogIH0KfSwKY3JlYXRlZCgpIHsKICB0aGlzLmdldFJlbW92ZWRMaXN0KCk7CiAgdGhpcy5nZXREZXBMaXN0KCk7Cn0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAuRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/modules/wms/writeOff","sourcesContent":["<template>\n  <div>\n    <q-table\n      v-if=\"windowWidth > 600\"\n      class=\"shadow-10\"\n      row=\"row\"\n      row-key=\"id\"\n      :columns=\"columns\"\n      :data=\"removedList\"\n      :hide-pagination=\"true\"\n      :rows-per-page-options=\"[0]\"\n    >\n      <template v-slot:top>\n        <div v-if=\"windowWidth > 600\" class=\"q-table__title\">{{ $t('wms.write_off.title') }}</div>\n        <q-space v-if=\"windowWidth > 600\"/>\n        <vs-input state=\"primary\" primary icon-after class=\"q-mr-lg\" v-model=\"search\" :placeholder=\"$t('actions.search')\">\n          <template #icon>\n            <q-icon name=\"search\"/>\n          </template>\n        </vs-input>\n        <q-space v-if=\"windowWidth < 600\"/>\n        <vs-button success animation-type=\"rotate\" @click=\"createForm\">\n          <q-icon name=\"add\"/>\n          <template #animate>\n            <q-icon name=\"add\"/>\n          </template>\n        </vs-button>\n        <q-separator/>\n      </template>\n      <template v-slot:body-cell-id=\"props\">\n        <q-td class=\"text-center\">{{ props.rowIndex + 1 }}</q-td>\n      </template>\n      <template v-slot:body-cell-actions=\"props\">\n        <q-td class=\"text-center\">\n          <vs-button v-if=\"props.row.status === 'READY'\" style=\"display: inline-block\" flat icon dark @click=\"viewForm(props.row.id)\">\n            <q-icon name=\"visibility\"/>\n          </vs-button>\n          <vs-button v-if=\"props.row.status === 'SUSPENDED'\" style=\"display: inline-block\" flat icon primary @click=\"editForm(props.row.id)\">\n            <q-icon name=\"edit\"/>\n          </vs-button>\n          <vs-button v-if=\"props.row.status === 'SUSPENDED'\" style=\"display: inline-block\" flat icon danger @click=\"deleteForm(props.row.id)\">\n            <q-icon name=\"delete\"/>\n          </vs-button>\n        </q-td>\n      </template>\n    </q-table>\n    <template v-else>\n      <q-toolbar>\n        <vs-row>\n          <vs-input state=\"primary\" primary icon-after  v-model=\"search\" :placeholder=\"$t('actions.search')\">\n            <template #icon>\n              <q-icon name=\"search\"/>\n            </template>\n          </vs-input>\n          <vs-button success animation-type=\"rotate\" @click=\"createForm\">\n            <q-icon name=\"add\"/>\n            <template #animate>\n              <q-icon name=\"add\"/>\n            </template>\n          </vs-button>\n        </vs-row>\n      </q-toolbar>\n      <div class=\"ml-2 q-pa-xs col-xs-12 col-sm-6\" v-for=\"(removedItem, i) in removedList\"\n           :key=\"`l-${i}`\">\n        <q-expansion-item\n            :label=\"removedItem.regNumber\"\n            style=\"border-radius: 15px;\"\n            expand-icon-class=\"text-white\"\n            header-class=\"text-white\"\n            :header-class=\"removedItem.status === 'READY' ? 'bg-green-13' : 'bg-yellow-5'\"\n            class=\"shadow-8 overflow-hidden mr-2\"\n        >\n          <q-card dense>\n            <q-card-section>\n              <q-list bordered separator dense>\n                <q-item v-ripple>\n                  <q-item-section>\n                    <q-item-label>{{ $t('doc.regNumber') }}</q-item-label>\n                    <q-item-label><b>{{ removedItem.regNumber }}</b></q-item-label>\n                  </q-item-section>\n                </q-item>\n                <q-item v-ripple>\n                  <q-item-section>\n                    <q-item-label>{{ $t('doc.regDate') }}</q-item-label>\n                    <q-item-label><b>{{ removedItem.regDate }}</b></q-item-label>\n                  </q-item-section>\n                </q-item>\n                <q-item>\n                  <q-item-section>\n                    <q-item-label>{{ $t('doc.department') }}</q-item-label>\n                    <q-item-label><b>{{ removedItem.fromDepartmentName }}</b></q-item-label>\n                  </q-item-section>\n                </q-item>\n                <q-item>\n                  <q-item-section>\n                    <vs-row>\n                      <vs-col justify=\"center\" align=\"center\">\n                        <vs-button v-if=\"removedItem.status === 'READY'\" style=\"display: inline-block\" flat icon dark @click=\"viewForm(removedItem.id)\">\n                          <q-icon name=\"visibility\"/>\n                        </vs-button>\n                        <vs-button v-if=\"removedItem.status === 'SUSPENDED'\" style=\"display: inline-block\" flat icon primary @click=\"editForm(removedItem.id)\">\n                          <q-icon name=\"edit\"/>\n                        </vs-button>\n                        <vs-button v-if=\"removedItem.status === 'SUSPENDED'\" style=\"display: inline-block\" flat icon danger @click=\"deleteForm(removedItem.id)\">\n                          <q-icon name=\"delete\"/>\n                        </vs-button>\n                      </vs-col>\n                    </vs-row>\n                  </q-item-section>\n                </q-item>\n              </q-list>\n            </q-card-section>\n          </q-card>\n        </q-expansion-item>\n      </div>\n    </template>\n    <div class=\"row justify-center q-mt-md\">\n      <q-pagination v-model=\"payload.page\" :max=\"maxItems\" :max-pages=\"4\" direction-links boundary-links push/>\n    </div>\n    <!--        Create / Edit        -->\n    <vs-dialog v-model=\"createEditModal\" blur prevent-close @close=\"getRemovedList\" width=\"100%\">\n      <template #header>\n        <b v-if=\"create\">{{ $t('wms.write_off.title') }}</b>\n        <b v-else>{{ $t('wms.write_off.write_off_edit') }}</b>\n      </template>\n      <q-separator/>\n      <validation-observer ref=\"formWriteOf\" v-slot=\"{}\">\n        <vs-row>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider v-slot=\"{valid}\" rules=\"required\" name=\"fromDepartmentId\">\n              <vs-select\n                block\n                class=\"mt-3\"\n                :danger=\"!valid\"\n                :label=\"$t('doc.department')\"\n                :class=\"!valid ? 'required' : ''\"\n                v-model=\"depId\"\n                @change=\"getItemByDepId(depId)\"\n                :key=\"`l-${departmentList.length}`\"\n              >\n                <vs-option v-for=\"(dep, i) in departmentList\" :key=\"`m-${i}`\" :label=\"dep.name\" :value=\"dep.id\">\n                  {{ dep.name }}\n                </vs-option>\n              </vs-select>\n            </validation-provider>\n          </vs-col>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider v-slot=\"{valid}\" rules=\"required\">\n              <vs-input\n                  state=\"primary\"\n                  block\n                  primary\n                  type=\"date\"\n                  class=\"mt-3\"\n                  :danger=\"!valid\"\n                  :label=\"$t('doc.regDate')\"\n                  v-model=\"writeOfForm.regDate\"\n                  :class=\"!valid ? 'required' : '' || windowWidth > 600 ? 'ml-1' : ''\"\n              />\n            </validation-provider>\n          </vs-col>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider v-slot=\"{valid}\" rules=\"required\">\n              <vs-input\n                  state=\"primary\"\n                  block\n                  primary\n                  class=\"mt-3\"\n                  :danger=\"!valid\"\n                  :label=\"$t('doc.regNumber')\"\n                  v-model=\"writeOfForm.regNumber\"\n                  :class=\"!valid ? 'required' : ''\"\n              />\n            </validation-provider>\n          </vs-col>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider v-slot=\"{valid}\">\n              <vs-input\n                  state=\"primary\"\n                  block\n                  primary\n                  class=\"mt-3\"\n                  :placeholder=\"$t('doc.commentary')\"\n                  :label=\"$t('doc.commentary')\"\n                  v-model=\"writeOfForm.comment\"\n                  :class=\"windowWidth > 600 ? 'ml-1' : ''\"\n              />\n            </validation-provider>\n          </vs-col>\n          <q-separator/>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider  v-slot=\"{valid}\">\n              <vs-select\n                block\n                class=\"mt-3\"\n                :danger=\"!valid\"\n                :label=\"$t('references.product')\"\n                :class=\"!valid ? 'required' : ''\"\n                v-model=\"itemId\"\n                @change=\"itemSet($event)\"\n                :key=\"`l-${itemList.length}`\"\n              >\n                <vs-option v-for=\"(pro, i) in itemList\" :key=\"`itemList-${i}`\" :value=\"pro.id\" :label=\"`${pro.brandName} / ${pro.parentRegNumber} / ${pro.itemCku} / ${pro.sizeOlcham} / ${pro.remaining}`\" :label-placeholder=\"`${pro.brandName} / ${pro.itemCku} / ${pro.sizeOlcham} / ${pro.remaining}`\">\n                  {{ pro.brandName }} / {{pro.parentRegNumber}} / {{ pro.itemCku }} / {{ pro.sizeOlcham }} / {{ pro.remaining }}\n                  </vs-option>\n              </vs-select>\n            </validation-provider>\n          </vs-col>\n          <vs-col v-if=\"itemId\" :w=\"windowWidth > 600 ? '6' : '12'\">\n            <validation-provider v-slot=\"{valid}\">\n              <vs-input\n                  state=\"primary\"\n                block\n                primary\n                class=\"mt-3\"\n                type=\"number\"\n                :label=\"$t('items.count')\"\n                v-model=\"dynamicItem.count\"\n                :class=\"!valid ? 'required' : '' || windowWidth > 600 ? 'ml-1' : ''\"\n                :danger=\"!valid\"\n              />\n            </validation-provider>\n          </vs-col>\n          <vs-row v-if=\"itemId\">\n            <vs-col w=\"6\" align=\"center\" class=\"mt-1\">\n              <vs-button flat @click=\"addWROList\">{{ $t('actions.add') }}</vs-button>\n            </vs-col>\n          </vs-row>\n          <vs-row v-if=\"writeOfForm.whItems.length > 0\">\n            <vs-col class=\"mt-1\" w=\"12\">\n              <q-table\n                  row=\"row\"\n                  row-key=\"id\"\n                  class=\"shadow-10\"\n                  :columns=\"dynamicItemCols\"\n                  :data=\"writeOfForm.whItems\"\n                  :hide-pagination=\"true\" :rows-per-page-options=\"[0]\"\n              >\n                <template v-slot:body-cell-id=\"props\">\n                  <q-td class=\"text-center\">\n                    {{ props.rowIndex+1 }}\n                  </q-td>\n                </template>\n                <template v-slot:body-cell-brandName=\"props\">\n                  <q-td class=\"text-center\">\n                    {{ props.row.brandName ? props.row.brandName : props.row.brandName }}\n                  </q-td>\n                </template>\n                <template v-slot:body-cell-actions=\"props\">\n                  <q-td class=\"text-center\">\n                    <vs-button @click=\"editDynamicItem(props.rowIndex, props.row)\" style=\"display: inline-block\" flat icon primary>\n                      <q-icon name=\"edit\"/>\n                    </vs-button>\n                    <vs-button @click=\"deleteDynamicItem(props.rowIndex)\" style=\"display: inline-block\" flat icon danger>\n                      <q-icon name=\"delete\"/>\n                    </vs-button>\n                  </q-td>\n                </template>\n              </q-table>\n            </vs-col>\n          </vs-row>\n        </vs-row>\n      </validation-observer>\n      <template #footer>\n        <vs-row>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <vs-button @click=\"save('SUSPENDED')\" :class=\"windowWidth > 600 ? 'mt-2 mr-1' : 'mt-1'\" block warn gradient>{{ $t('actions.save') }}</vs-button>\n          </vs-col>\n          <vs-col :w=\"windowWidth > 600 ? '6' : '12'\">\n            <vs-button @click=\"save('READY')\" :class=\"windowWidth > 600 ? 'mt-2 mr-1' : 'mt-1'\" block success gradient>{{ $t('actions.save_end_finish') }}</vs-button>\n          </vs-col>\n        </vs-row>\n      </template>\n    </vs-dialog>\n    <confirm-modal :model=\"deleteModal\" @submit=\"deleteWriteOFDoc\" @close=\"deleteModal = false\" :text=\"$t('confirm_delete')\"/>\n  </div>\n</template>\n\n<script>\nimport WriteOfService from \"./write_off.service\";\nimport confirmModal from '../../../components/confirmModal.vue';\nimport DepartmentService from '../../management/department/department.service';\nimport WareHaseService from '../warehouse/warehouse.service';\nimport TransferService from \"../transfer/transfer.service\";\nimport IncomeService from \"../income/income.service\";\nexport default {\nname: \"index\",\ncomponents: {confirmModal},\ndata() {\n  return {\n    columns: [\n      {name: 'id', align: 'center', label: this.$t('doc.index'), field: 'id'},\n      {name: 'fromDepartmentId', align: 'center', label: this.$t('doc.department'), field: 'fromDepartmentName'},\n      {name: 'regNumber', align: 'center', label: this.$t('doc.regNumber'), field: 'regNumber'},\n      {name: 'regDate', align: 'center', label: this.$t('doc.regDate'), field: 'regDate'},\n      {name: 'comment', align: 'center', label: this.$t('doc.comment'), field: 'comment'},\n      {name: 'status', align: 'center', label: this.$t('doc.status'), field: 'status'},\n      {name: 'actions', align: 'center', label: this.$t('doc.action'), field: 'actions'}\n    ],\n    dynamicItemCols: [\n      {name: 'id', align: 'center', label: this.$t('items.index'), field: 'id'},\n      {name: 'cku', align: 'center', label: this.$t('items.sku'), field: 'itemCku'},\n      {name: 'brandName', align: 'center', label: this.$t('items.brand'), field: 'brandName'},\n      {name: 'size', align: 'center', label: this.$t('items.size'), field: 'sizeOlcham'},\n      {name: 'price', align: 'center', label: this.$t('items.price'), field: 'price'},\n      {name: 'count', align: 'center', label: this.$t('items.count'), field: 'count'},\n      {name: 'actions', align: 'center', label: this.$t('items.action'), field: 'actions'}\n    ],\n    windowWidth: window.innerWidth,\n    payload: {\n      page: 1,\n      limit: 20\n    },\n    keyword: '',\n    search: '',\n    totalItems: 0,\n    totalItem: 0,\n    pagination: {\n      page: 1,\n      limit: 20\n    },\n    create: true,\n    createEditModal: false,\n    deleteModal: false,\n    removedList: [],\n    writeOfForm: {},\n    departmentList: [],\n    fromDepartmentId: '',\n    itemId: '',\n    itemList: [],\n    whItems: [],\n    dynamicItem: {},\n    itemLength: '',\n    depId: '',\n    docId: null,\n    nothing: null\n  }\n},\nwatch: {\n},\ncomputed: {\n  maxItems() {\n    let maxI = this.totalItem / this.pagination.limit\n    return Math.ceil(maxI)\n  }\n},\nmethods: {\n  async getDepList() {\n    await  DepartmentService.getDepartmentsList().then(res => {\n      this.departmentList = []\n      this.departmentList = res.data\n    }).catch(e => {\n        this.$vs.notification({\n          duration: 2000,\n          title: e.message,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n  },\n  getProductList() {\n    WareHaseService.getItemByDepId(this.depId, this.pagination).then(res => {\n      this.itemList = res.data.list\n      this.totalItem =res.data.total\n    }).catch(e => {\n        this.$vs.notification({\n          title: e.message,\n          duration: 2000,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      })\n  },\n  getRemovedList() {\n    WriteOfService.getWriteOfDocs(this.keyword, this.payload).then(res => {\n      this.removedList = res.data.list\n      this.totalIncome = res.data.total\n    }).catch(e => {\n      this.$vs.notification({\n        title: e.message,\n        duration: 2000,\n        progress: 'auto',\n        color: 'danger',\n        position: 'top-right'\n      })\n    })\n  },\n  createForm() {\n    WriteOfService.createWriteOfDoc().then(res => {\n      this.writeOfForm = {}\n      this.writeOfForm = res.data\n      this.writeOfForm.fromDepartmentId = ''\n      this.writeOfForm.comment = ''\n      this.writeOfForm.whItems = []\n      this.dynamicItem = {}\n      this.itemId = ''\n      this.createEditModal = true\n    }).catch(e => {\n      this.$vs.notification({\n        duration: 2000,\n        title: e.message,\n        progress: 'auto',\n        color: 'danger',\n        position: 'top-right'\n      })\n    })\n  },\n  itemSet(itemId) {\n    this.itemList.forEach(item => {\n      if (item.id === itemId) {\n        this.dynamicItem = item\n      }\n    })\n  },\n  getItemByDepId(depId){\n    this.removedList = [];\n    this.getProductList(depId);\n    this.writeOfForm.whItems = [];\n  },\n  addWROList(){\n    if(this.dynamicItem.count > 0) {\n      if(this.itemId) {\n        let has = false,\n            ind = 0\n        this.writeOfForm.whItems.forEach((whDocItem, index) => {\n          if(whDocItem.id === this.dynamicItem.id) {\n              if(whDocItem.remaining >= this.dynamicItem.count) {\n                has = true,\n                ind = index\n              }\n          }\n        })\n        if (has) {\n          this.writeOfForm.whItems.splice(ind, 1)\n        }\n        let item = Object.assign({}, this.dynamicItem)\n        if(item.remaining >= this.dynamicItem.count) {\n          this.writeOfForm.whItems.unshift(item)\n          this.dynamicItem = {}\n          this.itemId = ''\n        } else {\n          this.$vs.notification({\n            title: this.$t('big-count'),\n            progress: 'auto',\n            duration: 2000,\n            color: 'danger',\n            position: 'top-right'\n          })\n        }\n\n      } else {\n        this.$vs.notification({\n          title: this.$t('required_error'),\n          duration: 2000,\n          progress: 'auto',\n          color: 'danger',\n          position: 'top-right'\n        })\n      }\n    } else {\n      this.$vs.notification({\n        title: this.$t('no-count'),\n        duration: 2000,\n        progress: 'auto',\n        color: 'danger',\n        position: 'top-right'\n      })\n    }\n  },\n  save(status) {\n    this.$refs.formWriteOf.validate().then(valid => {\n      if(valid) {\n        this.writeOfForm.status = status\n        let tmp = true\n        if(status === 'READY') {\n          if(this.itemId === '' && this.writeOfForm.whItems.length > 0) {\n            tmp = true\n          } else {\n            tmp = false\n            this.$vs.notification({\n              title: this.$t('required_error'),\n              progress: 'auto',\n              duration: 2000,\n              color: 'danger',\n              position: 'top-right'\n            })\n          }\n        } if (tmp) {\n          this.writeOfForm.fromDepartmentId = this.depId\n          WriteOfService.saveWriteOfDoc(this.writeOfForm).then(res => {\n            this.getRemovedList()\n            this.createEditModal = false\n            this.$vs.notification({\n              title: this.$t('success_updated'),\n              progress: 'auto',\n              duration: 2000,\n              color: 'success',\n              position: 'top-right'\n            })\n          }).catch(e => {\n            this.$vs.notification({\n              title: e.message,\n              progress: 'auto',\n              duration: 2000,\n              color: 'danger',\n              position: 'top-right'\n            })\n          })\n        }\n      }else {\n        this.$vs.notification({\n          title: this.$t('required_error'),\n          progress: 'auto',\n          duration: 2000,\n          color: 'danger',\n          position: 'top-right'\n        })\n      }\n    })\n  },\n  editDynamicItem(index, item) {\n    this.writeOfForm.whItems.splice(index, 1)\n    let tem = {\n      itemId: item.itemId,\n      brandName: item.brand ? item.brand : item.brandName,\n      itemCku: item.cku ? item.cku : item.itemCku,\n      sizeOlcham: item.size ? item.size : item.sizeOlcham\n    }\n    this.dynamicItem = tem\n    this.itemId = this.dynamicItem.itemId\n},\n  deleteDynamicItem(index) {\n    this.writeOfForm.whItems.splice(index, 1)\n  },\n  viewForm(docId) {\n    this.$router.push(`/wms/writeOff/writeOff-view/${docId}`)\n  },\n  editForm(docId) {\n    IncomeService.getIncomeDocById(docId).then(res => {\n      this.itemId = ''\n      this.dynamicItem = {}\n      this.writeOfForm = {\n        ...res.data,\n        whItems: res.data.whDocItems,\n        whDocItems:null,\n      }\n      this.createEditModal = true\n    }).catch(e => {\n      this.$vs.notification({\n        title: e.message,\n        duration: 2000,\n        progress: 'auto',\n        color: 'danger',\n        position: 'top-right'\n      })\n    })\n  },\n  deleteForm(id) {\n    this.docId = null\n    this.docId = id\n    this.deleteModal = true\n  },\n  deleteWriteOFDoc() {\n    WriteOfService.deleteWriteOfDoc(this.docId).then(res => {\n      this.$vs.notification({\n        title: this.$t('success_deleted'),\n        progress: 'auto',\n        duration: 2000,\n        color: 'success',\n        position: 'top-right'\n      })\n      this.getRemovedList();\n      this.deleteModal = false\n    })\n  }\n},\ncreated() {\n  this.getRemovedList();\n  this.getDepList();\n}\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}